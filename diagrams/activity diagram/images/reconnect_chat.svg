<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="532px" preserveAspectRatio="none" style="width:597px;height:532px;background:#FFFFFF;" version="1.1" viewBox="0 0 597 532" width="597px" zoomAndPan="magnify"><title>Real-time Chat Process - Reconnection Flow</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="347.6211" x="123.5283" y="32.9951">Real-time Chat Process - Reconnection Flow</text></g><ellipse cx="321.478" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="255.1484" x="193.9038" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="235.1484" x="203.9038" y="108.4355">Ph&#225;t hi&#7879;n k&#7871;t n&#7889;i WebSocket kh&#244;i ph&#7909;c</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="189.0547" x="226.9507" y="141.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169.0547" x="236.9507" y="162.4043">K&#7871;t n&#7889;i l&#7841;i v&#7899;i Socket Server</text><polygon fill="#F1F1F1" points="266.4377,195.2344,376.5183,195.2344,388.5183,207.2344,376.5183,219.2344,266.4377,219.2344,254.4377,207.2344,266.4377,195.2344" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110.0806" x="266.4377" y="211.0425">K&#7871;t n&#7889;i th&#224;nh c&#244;ng?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="235.4294" y="204.6401">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="388.5183" y="204.6401">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.4785" x="104.3193" y="229.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.4785" x="114.3193" y="250.373">X&#243;a polling interval</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="214.5898" x="65.2637" y="283.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194.5898" x="75.2637" y="304.3418">G&#7917;i y&#234;u c&#7847;u l&#7845;y tin nh&#7855;n b&#7883; b&#7887; l&#7905;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="323.1172" x="11" y="337.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="303.1172" x="21" y="358.3105">L&#7845;y tin nh&#7855;n t&#7915; c&#417; s&#7903; d&#7919; li&#7879;u (d&#7921;a tr&#234;n timestamp)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="190.7188" x="77.1992" y="391.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170.7188" x="87.1992" y="412.2793">C&#7853;p nh&#7853;t tr&#7841;ng th&#225;i tin nh&#7855;n</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.7246" x="90.6963" y="445.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.7246" x="100.6963" y="466.248">C&#7853;p nh&#7853;t giao di&#7879;n chat</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="232.5605" x="354.1172" y="229.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="212.5605" x="364.1172" y="250.373">Ti&#7871;p t&#7909;c ch&#7871; &#273;&#7897; Pull (HTTP fallback)</text><ellipse cx="470.3975" cy="294.2031" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="470.3975" cy="294.2031" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><ellipse cx="321.478" cy="510.0781" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="321.478" cy="510.0781" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="321.478" x2="321.478" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="317.478,77.2969,321.478,87.2969,325.478,77.2969,321.478,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="321.478" x2="321.478" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="317.478,131.2656,321.478,141.2656,325.478,131.2656,321.478,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="263.2031" y2="283.2031"/><polygon fill="#181818" points="168.5586,273.2031,172.5586,283.2031,176.5586,273.2031,172.5586,277.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="317.1719" y2="337.1719"/><polygon fill="#181818" points="168.5586,327.1719,172.5586,337.1719,176.5586,327.1719,172.5586,331.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="371.1406" y2="391.1406"/><polygon fill="#181818" points="168.5586,381.1406,172.5586,391.1406,176.5586,381.1406,172.5586,385.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="425.1094" y2="445.1094"/><polygon fill="#181818" points="168.5586,435.1094,172.5586,445.1094,176.5586,435.1094,172.5586,439.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="470.3975" x2="470.3975" y1="263.2031" y2="283.2031"/><polygon fill="#181818" points="466.3975,273.2031,470.3975,283.2031,474.3975,273.2031,470.3975,277.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="254.4377" x2="172.5586" y1="207.2344" y2="207.2344"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="207.2344" y2="229.2344"/><polygon fill="#181818" points="168.5586,219.2344,172.5586,229.2344,176.5586,219.2344,172.5586,223.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="388.5183" x2="470.3975" y1="207.2344" y2="207.2344"/><line style="stroke:#181818;stroke-width:1;" x1="470.3975" x2="470.3975" y1="207.2344" y2="229.2344"/><polygon fill="#181818" points="466.3975,219.2344,470.3975,229.2344,474.3975,219.2344,470.3975,223.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="172.5586" y1="479.0781" y2="484.0781"/><line style="stroke:#181818;stroke-width:1;" x1="172.5586" x2="321.478" y1="484.0781" y2="484.0781"/><line style="stroke:#181818;stroke-width:1;" x1="321.478" x2="321.478" y1="484.0781" y2="499.0781"/><polygon fill="#181818" points="317.478,489.0781,321.478,499.0781,325.478,489.0781,321.478,493.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="321.478" x2="321.478" y1="175.2344" y2="195.2344"/><polygon fill="#181818" points="317.478,185.2344,321.478,195.2344,325.478,185.2344,321.478,189.2344" style="stroke:#181818;stroke-width:1;"/><!--SRC=[RP6nIaCn58RtFCK_tWw-G3iu55JGeTY2hccQzeQcoUNUqqgVmC517CL1EnIXKeheT3CuNF4zyYQUgnSKCKF8uNpvS_u_PCXgd6ffzyZCDBgf9FHohtHHO8yRoZkd5HdlS63zXH05oPn4kvTMAq9gOhXqcCRoZU1Yk34uqyE-LrDDcARLgq6Mnh1M7T4-_WNPMAuC5Z7S6JHqN-SBdNU46IFvZL9QFRWKgdfra_qMbzeXMUgY9S2hVLwzI6JUMkCcC8vOHThET-ymXgt1ijhCeMBvEA-VNIz1ni6biTmv36EughThReLLS-taBqKnF45zh534S8zH33lOslWS2HVF4fHN6yOuG4vdbhKQeMuijzcNo9QOOSyy8_jXwp_g_x4J8pr6tzag_f6EqBRGI9nlN0yC9vJLWwqL4rpW_IQ6M_JcrY8v6Wnw64jhXr9DcsaAyfdGRcJ6eZv-0W00]--></g></svg>