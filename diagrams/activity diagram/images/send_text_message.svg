<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="727px" preserveAspectRatio="none" style="width:672px;height:727px;background:#FFFFFF;" version="1.1" viewBox="0 0 672 727" width="672px" zoomAndPan="magnify"><title>Real-time Chat Process - Send Text Message Flow</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="393.7637" x="137.6328" y="32.9951">Real-time Chat Process - Send Text Message Flow</text></g><ellipse cx="434.24" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176.5742" x="345.9529" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156.5742" x="355.9529" y="108.4355">Ng&#432;&#7901;i d&#249;ng nh&#7853;p tin nh&#7855;n</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171.957" x="348.2615" y="141.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151.957" x="358.2615" y="162.4043">C&#7853;p nh&#7853;t tr&#7841;ng th&#225;i input</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="159.1426" x="354.6687" y="195.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139.1426" x="364.6687" y="216.373">Ng&#432;&#7901;i d&#249;ng nh&#7845;n Enter</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="122.7324" x="372.8738" y="249.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102.7324" x="382.8738" y="270.3418">Validate tin nh&#7855;n</text><polygon fill="#F1F1F1" points="388.6206,303.1719,479.8594,303.1719,491.8594,315.1719,479.8594,327.1719,388.6206,327.1719,376.6206,315.1719,388.6206,303.1719" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91.2388" x="388.6206" y="318.98">Tin nh&#7855;n h&#7907;p l&#7879;?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="357.6123" y="312.5776">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="491.8594" y="312.5776">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="329.1641" x="117.5913" y="337.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="309.1641" x="127.5913" y="358.3105">G&#7917;i tin nh&#7855;n qua WebSocket (emit 'send-message')</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102.7695" x="230.7886" y="391.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.7695" x="240.7886" y="412.2793">X&#225;c minh JWT</text><polygon fill="#F1F1F1" points="250.0837,445.1094,314.2629,445.1094,326.2629,457.1094,314.2629,469.1094,250.0837,469.1094,238.0837,457.1094,250.0837,445.1094" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64.1792" x="250.0837" y="460.9175">JWT h&#7907;p l&#7879;?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="219.0754" y="454.5151">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="326.2629" y="454.5151">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200.6211" x="59.2168" y="479.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180.6211" x="69.2168" y="500.248">L&#432;u tin nh&#7855;n v&#224;o c&#417; s&#7903; d&#7919; li&#7879;u</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="160.1211" x="79.4668" y="533.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140.1211" x="89.4668" y="554.2168">Ph&#225;t tin nh&#7855;n &#273;&#7871;n k&#234;nh</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="297.0547" x="11" y="587.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="277.0547" x="21" y="608.1855">C&#7853;p nh&#7853;t danh s&#225;ch tin nh&#7855;n tr&#234;n t&#7845;t c&#7843; client</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="207.9043" x="55.5752" y="641.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187.9043" x="65.5752" y="662.1543">Hi&#7875;n th&#7883; tin nh&#7855;n tr&#234;n giao di&#7879;n</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="153.5293" x="328.0547" y="479.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133.5293" x="338.0547" y="500.248">Y&#234;u c&#7847;u &#273;&#259;ng nh&#7853;p l&#7841;i</text><ellipse cx="404.8193" cy="544.0781" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="404.8193" cy="544.0781" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="149.4453" x="511.584" y="337.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129.4453" x="521.584" y="358.3105">Hi&#7875;n th&#7883; th&#244;ng b&#225;o l&#7895;i</text><ellipse cx="586.3066" cy="402.1406" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="586.3066" cy="402.1406" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><ellipse cx="434.24" cy="705.9844" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="434.24" cy="705.9844" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="430.24,77.2969,434.24,87.2969,438.24,77.2969,434.24,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="430.24,131.2656,434.24,141.2656,438.24,131.2656,434.24,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="175.2344" y2="195.2344"/><polygon fill="#181818" points="430.24,185.2344,434.24,195.2344,438.24,185.2344,434.24,189.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="229.2031" y2="249.2031"/><polygon fill="#181818" points="430.24,239.2031,434.24,249.2031,438.24,239.2031,434.24,243.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="282.1733" x2="282.1733" y1="371.1406" y2="391.1406"/><polygon fill="#181818" points="278.1733,381.1406,282.1733,391.1406,286.1733,381.1406,282.1733,385.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="159.5273" y1="513.0781" y2="533.0781"/><polygon fill="#181818" points="155.5273,523.0781,159.5273,533.0781,163.5273,523.0781,159.5273,527.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="159.5273" y1="567.0469" y2="587.0469"/><polygon fill="#181818" points="155.5273,577.0469,159.5273,587.0469,163.5273,577.0469,159.5273,581.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="159.5273" y1="621.0156" y2="641.0156"/><polygon fill="#181818" points="155.5273,631.0156,159.5273,641.0156,163.5273,631.0156,159.5273,635.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="404.8193" x2="404.8193" y1="513.0781" y2="533.0781"/><polygon fill="#181818" points="400.8193,523.0781,404.8193,533.0781,408.8193,523.0781,404.8193,527.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="238.0837" x2="159.5273" y1="457.1094" y2="457.1094"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="159.5273" y1="457.1094" y2="479.1094"/><polygon fill="#181818" points="155.5273,469.1094,159.5273,479.1094,163.5273,469.1094,159.5273,473.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="326.2629" x2="404.8193" y1="457.1094" y2="457.1094"/><line style="stroke:#181818;stroke-width:1;" x1="404.8193" x2="404.8193" y1="457.1094" y2="479.1094"/><polygon fill="#181818" points="400.8193,469.1094,404.8193,479.1094,408.8193,469.1094,404.8193,473.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="159.5273" y1="674.9844" y2="679.9844"/><line style="stroke:#181818;stroke-width:1;" x1="159.5273" x2="434.24" y1="679.9844" y2="679.9844"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="679.9844" y2="694.9844"/><polygon fill="#181818" points="430.24,684.9844,434.24,694.9844,438.24,684.9844,434.24,688.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="282.1733" x2="282.1733" y1="425.1094" y2="445.1094"/><polygon fill="#181818" points="278.1733,435.1094,282.1733,445.1094,286.1733,435.1094,282.1733,439.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="586.3066" x2="586.3066" y1="371.1406" y2="391.1406"/><polygon fill="#181818" points="582.3066,381.1406,586.3066,391.1406,590.3066,381.1406,586.3066,385.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="376.6206" x2="282.1733" y1="315.1719" y2="315.1719"/><line style="stroke:#181818;stroke-width:1;" x1="282.1733" x2="282.1733" y1="315.1719" y2="337.1719"/><polygon fill="#181818" points="278.1733,327.1719,282.1733,337.1719,286.1733,327.1719,282.1733,331.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="491.8594" x2="586.3066" y1="315.1719" y2="315.1719"/><line style="stroke:#181818;stroke-width:1;" x1="586.3066" x2="586.3066" y1="315.1719" y2="337.1719"/><polygon fill="#181818" points="582.3066,327.1719,586.3066,337.1719,590.3066,327.1719,586.3066,331.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.24" x2="434.24" y1="283.1719" y2="303.1719"/><polygon fill="#181818" points="430.24,293.1719,434.24,303.1719,438.24,293.1719,434.24,297.1719" style="stroke:#181818;stroke-width:1;"/><!--SRC=[VPA_JkD04CPxFyNNaHHvWQIu0l57Y3kX8-9FkTX3l6Ap3jxn0JK51HKL5G8B8IGa10KDSN65KTvZt-J6zkdYSAVRQdTsVjytCxkisH2-ap8zrcF2SgmOMsaIadFeOPjiX26TChvAG8q8goOv2GB7AkMW_sqqU_N5ZKPKljiHREodpnEmjlNsnGw2_d8TgcyOdFffBeaSbxc6jfEC1_zKUR1OiKoftEueeoF5j22h3z4P_ZaZziNz1CON5r-w8auMdJDotG2o-ck-UDOj6iUPmYuTR2VX4J4wDDQC9IUTziPDaqlTGOFkbNc8iROnDdQ7JQnobiD_BMjsS_QQjLr_b7S9mbaEvujRHBvuWT62PuCvioLpuJRqSUMdFosEoYSRj_8MXXefgSz9fN6Rv5GOi8oI4VhfFKAZoN9BP5tSpoL5EhdycnnfbI2g2hGDGyOHEZPfjRXVFcML-6CcXNwSpt-0aMVMSol7oQJHi94-31QLFjKHbs-YSr3cIJNSwzygjK93LzjV]--></g></svg>