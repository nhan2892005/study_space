<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="652px" preserveAspectRatio="none" style="width:507px;height:652px;background:#FFFFFF;" version="1.1" viewBox="0 0 507 652" width="507px" zoomAndPan="magnify"><title>Real-time Chat Process - Pull Flow (HTTP Fallback)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="399.7588" x="52.3843" y="32.9951">Real-time Chat Process - Pull Flow (HTTP Fallback)</text></g><ellipse cx="278.3809" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="220.4258" x="168.168" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="200.4258" x="178.168" y="108.4355">Ph&#225;t hi&#7879;n m&#7845;t k&#7871;t n&#7889;i WebSocket</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="235.6719" x="160.5449" y="141.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="215.6719" x="170.5449" y="162.4043">Thi&#7871;t l&#7853;p polling interval (5-10 gi&#226;y)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="364.7012" x="96.0303" y="239.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="344.7012" x="106.0303" y="260.373">G&#7917;i y&#234;u c&#7847;u GET /api/servers/[id]/channels/[id]/messages</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="185.1582" x="185.8018" y="293.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="165.1582" x="195.8018" y="314.3418">X&#225;c minh phi&#234;n ng&#432;&#7901;i d&#249;ng</text><polygon fill="#F1F1F1" points="241.511,347.1719,315.2507,347.1719,327.2507,359.1719,315.2507,371.1719,241.511,371.1719,229.511,359.1719,241.511,347.1719" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73.7397" x="241.511" y="362.98">Phi&#234;n h&#7907;p l&#7879;?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="210.5027" y="356.5776">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="327.2507" y="356.5776">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="255.998" x="38" y="381.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="235.998" x="48" y="402.3105">L&#7845;y danh s&#225;ch tin nh&#7855;n t&#7915; c&#417; s&#7903; d&#7919; li&#7879;u</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="242.1055" x="44.9463" y="435.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222.1055" x="54.9463" y="456.2793">H&#7907;p nh&#7845;t tin nh&#7855;n v&#7899;i d&#7919; li&#7879;u hi&#7879;n c&#243;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.7246" x="84.1367" y="489.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.7246" x="94.1367" y="510.248">C&#7853;p nh&#7853;t giao di&#7879;n chat</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="153.5293" x="313.998" y="381.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133.5293" x="323.998" y="402.3105">Y&#234;u c&#7847;u &#273;&#259;ng nh&#7853;p l&#7841;i</text><ellipse cx="390.7627" cy="446.1406" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="390.7627" cy="446.1406" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><polygon fill="#F1F1F1" points="204.1201,195.2344,352.6416,195.2344,364.6416,207.2344,352.6416,219.2344,204.1201,219.2344,192.1201,207.2344,204.1201,195.2344" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148.5215" x="204.1201" y="211.0425">K&#7871;t n&#7889;i WebSocket b&#7883; m&#7845;t?</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="303.6289" x="126.5664" y="565.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="283.6289" x="136.5664" y="586.2168">Ng&#7915;ng polling khi k&#7871;t n&#7889;i WebSocket kh&#244;i ph&#7909;c</text><ellipse cx="278.3809" cy="630.0469" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="278.3809" cy="630.0469" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="274.3809,77.2969,278.3809,87.2969,282.3809,77.2969,278.3809,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="274.3809,131.2656,278.3809,141.2656,282.3809,131.2656,278.3809,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="273.2031" y2="293.2031"/><polygon fill="#181818" points="274.3809,283.2031,278.3809,293.2031,282.3809,283.2031,278.3809,287.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="165.999" x2="165.999" y1="415.1406" y2="435.1406"/><polygon fill="#181818" points="161.999,425.1406,165.999,435.1406,169.999,425.1406,165.999,429.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="165.999" x2="165.999" y1="469.1094" y2="489.1094"/><polygon fill="#181818" points="161.999,479.1094,165.999,489.1094,169.999,479.1094,165.999,483.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="390.7627" x2="390.7627" y1="415.1406" y2="435.1406"/><polygon fill="#181818" points="386.7627,425.1406,390.7627,435.1406,394.7627,425.1406,390.7627,429.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="229.511" x2="165.999" y1="359.1719" y2="359.1719"/><line style="stroke:#181818;stroke-width:1;" x1="165.999" x2="165.999" y1="359.1719" y2="381.1719"/><polygon fill="#181818" points="161.999,371.1719,165.999,381.1719,169.999,371.1719,165.999,375.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="327.2507" x2="390.7627" y1="359.1719" y2="359.1719"/><line style="stroke:#181818;stroke-width:1;" x1="390.7627" x2="390.7627" y1="359.1719" y2="381.1719"/><polygon fill="#181818" points="386.7627,371.1719,390.7627,381.1719,394.7627,371.1719,390.7627,375.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="165.999" x2="165.999" y1="523.0781" y2="528.0781"/><line style="stroke:#181818;stroke-width:1;" x1="165.999" x2="481.5273" y1="528.0781" y2="528.0781"/><polygon fill="#181818" points="477.5273,376.1563,481.5273,366.1563,485.5273,376.1563,481.5273,372.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="481.5273" x2="481.5273" y1="207.2344" y2="528.0781"/><line style="stroke:#181818;stroke-width:1;" x1="481.5273" x2="364.6416" y1="207.2344" y2="207.2344"/><polygon fill="#181818" points="374.6416,203.2344,364.6416,207.2344,374.6416,211.2344,370.6416,207.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="327.1719" y2="347.1719"/><polygon fill="#181818" points="274.3809,337.1719,278.3809,347.1719,282.3809,337.1719,278.3809,341.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="219.2344" y2="239.2344"/><polygon fill="#181818" points="274.3809,229.2344,278.3809,239.2344,282.3809,229.2344,278.3809,233.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.1201" x2="24" y1="207.2344" y2="207.2344"/><polygon fill="#181818" points="20,368.1563,24,378.1563,28,368.1563,24,372.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="24" x2="24" y1="207.2344" y2="545.0781"/><line style="stroke:#181818;stroke-width:1;" x1="24" x2="278.3809" y1="545.0781" y2="545.0781"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="545.0781" y2="565.0781"/><polygon fill="#181818" points="274.3809,555.0781,278.3809,565.0781,282.3809,555.0781,278.3809,559.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="175.2344" y2="195.2344"/><polygon fill="#181818" points="274.3809,185.2344,278.3809,195.2344,282.3809,185.2344,278.3809,189.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="278.3809" x2="278.3809" y1="599.0469" y2="619.0469"/><polygon fill="#181818" points="274.3809,609.0469,278.3809,619.0469,282.3809,609.0469,278.3809,613.0469" style="stroke:#181818;stroke-width:1;"/><!--SRC=[RPAnQXj148RxUug_F1L2IP56LxWmiGqEuKW4IGWfLdVhsq6hlKExib6TmaKgro449PY0ZN0WQN9Rf3ZZzzWtyToTZLHuYuLbvlzcvfzrvBJ46odqqD5SOby9XtHHPj9Q394kjSQ1BiyG7qqcAGw4rbEHpGPHP9rOk6YSgcRje2ZuSuDvg2yTPg7-xs22lo2yazEtPJQJBed64yvg8phKcmfLgJMP0cISN9mAZVZ5yFap5DJyM0sIw4mHDnOVFyN2DFWlVR6zGGG-uyFWDuHLSxL45kfVIno-d60aAXfPfik57Nsa_DCeKy8OgHzUSnvI5D8cFUDziyum9wDGAMgk34nnzpluRuIy-MUAFejE4ATzM0N_i-9f_FdU04v9WtWbRTzG1tp57QwG2oPQPYiuOgWAzOs12_uQsTqQDlZlo8E_WMvDN2PR_L5Ne1MmgplQq-2_qgxcqV-i-RCZt-zyRZKRnxwA4lb36Y-vpsChs6HJxZJzOUlXxSNjPzvGHsW7hTUqnLjNLZt3v7GIyOrkPz7uTS6piUvnmpD5J_y9ZZH_YTqE_Z9BefPu3m00]--></g></svg>