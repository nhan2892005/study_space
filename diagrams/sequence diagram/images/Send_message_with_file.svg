<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1862.1664163991443" height="1017.2896356923177"><desc>%40startuml%0Atitle%20Chat%20-%20Send%20Message%20with%20Files%20Flow%0A%0Aactor%20User%0Aparticipant%20Browser%0Aparticipant%20%22Cloudinary%20API%22%20as%20CloudinaryAPI%0Aparticipant%20%22Cloudinary%20Server%22%20as%20CloudinaryServer%0Aparticipant%20%22useMessages%20Hook%22%20as%20Hook%0Aparticipant%20%22Socket%20Client%22%20as%20SocketClient%0Aparticipant%20%22Socket%20Server%22%20as%20SocketServer%0Aparticipant%20Database%0Aparticipant%20%22Socket.io%22%20as%20SocketIO%0Aparticipant%20%22All%20Clients%22%20as%20AllClients%0A%0Aactivate%20User%0Aactivate%20Browser%0AUser%20-%3E%20Browser%3A%20Select%20files%20%2B%20type%20message%0A%0ABrowser%20-%3E%20User%3A%20Show%20text%20and%20file%20previews%0A%0AUser%20-%3E%20Browser%3A%20Click%20send%0ABrowser%20-%3E%20Hook%3A%20Call%20sendMessage(content%2C%20files)%0A%0Aactivate%20Hook%0AHook%20-%3E%20Browser%3A%20Create%20FormData%0ABrowser%20-%3E%20CloudinaryAPI%3A%20POST%20%2Fapi%2Fuploads%2Fcloudinary%0Aactivate%20CloudinaryAPI%0ACloudinaryAPI%20-%3E%20CloudinaryServer%3A%20Upload%20files%0Aactivate%20CloudinaryServer%0ACloudinaryServer%20-%3E%20CloudinaryAPI%3A%20File%20URLs%0Adeactivate%20CloudinaryServer%0ACloudinaryAPI%20-%3E%20Browser%3A%20Return%20URLs%20%2B%20metadata%0Adeactivate%20CloudinaryAPI%0ABrowser%20-%3E%20Hook%3A%20Files%20uploaded%0AHook%20-%3E%20SocketClient%3A%20Emit%20with%20file%20URLs%0Adeactivate%20Hook%0Aactivate%20SocketClient%0ASocketClient%20-%3E%20SocketServer%3A%20Message%20%2B%20files%20data%0Adeactivate%20SocketClient%0Aactivate%20SocketServer%0ASocketServer%20-%3E%20Database%3A%20Save%20message%20%2B%20file%20records%0Aactivate%20Database%0ADatabase%20-%3E%20SocketServer%3A%20Success%0Adeactivate%20Database%0ASocketServer%20-%3E%20SocketIO%3A%20Broadcast%20to%20channel%0Adeactivate%20SocketServer%0Aactivate%20SocketIO%0ASocketIO%20-%3E%20AllClients%3A%20'new-message'%20with%20files%0Adeactivate%20SocketIO%0Aactivate%20AllClients%0AAllClients%20-%3E%20Browser%3A%20Render%20message%20%2B%20file%20previews%0Adeactivate%20AllClients%0ABrowser%20-%3E%20User%3A%20Display%20message%20with%20files%0A%0A%40enduml</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1862" height="1017"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 23.64361483359375 128.65457617231817 L 23.64361483359375 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 262.4011308968099 128.65457617231817 L 262.4011308968099 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 516.2409681270182 128.65457617231817 L 516.2409681270182 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 675.5789825098932 128.65457617231817 L 675.5789825098932 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 850.4001740778268 128.65457617231817 L 850.4001740778268 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1033.3023282025663 128.65457617231817 L 1033.3023282025663 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1228.065596829259 128.65457617231817 L 1228.065596829259 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1473.3370594256783 128.65457617231817 L 1473.3370594256783 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1586.6479055346274 128.65457617231817 L 1586.6479055346274 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1803.6874497960857 128.65457617231817 L 1803.6874497960857 1017.2896356923177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 32.95468071459375 59.55666621331818 A 9.311065881 9.311065881 0 1 1 32.9546760590612 59.54735514898902" stroke-miterlimit="10" stroke-width="2.7769845610000004" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 23.64361483359375 68.86773209431819 L 23.64361483359375 88.79668012031819 M 11.882268457593753 76.05522154631818 L 35.40496120959375 76.05522154631818 M 23.64361483359375 88.79668012031819 L 11.882268457593753 107.41881188231818 M 23.64361483359375 88.79668012031819 L 35.40496120959375 107.41881188231818" stroke-miterlimit="10" stroke-width="2.7769845610000004"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="8.167601650000002" y="123.75401518231817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 217.79484406875127 84.54952726231818 L 307.00741772486845 84.54952726231818 L 307.00741772486845 128.65457617231817 L 217.79484406875127 128.65457617231817 L 217.79484406875127 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="235.5185396492513" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 449.62681539319783 84.71287929531819 L 582.8551208608385 84.71287929531819 L 582.8551208608385 128.65457617231817 L 449.62681539319783 128.65457617231817 L 449.62681539319783 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="467.35051097369785" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Cloudinary API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 599.1903241608385 84.71287929531819 L 751.9676408589479 84.71287929531819 L 751.9676408589479 128.65457617231817 L 599.1903241608385 128.65457617231817 L 599.1903241608385 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="616.9140197413385" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Cloudinary Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 768.3028441589479 84.71287929531819 L 932.4975039967057 84.71287929531819 L 932.4975039967057 128.65457617231817 L 768.3028441589479 128.65457617231817 L 768.3028441589479 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.0265397394479" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">useMessages Hook</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 972.393253593746 84.71287929531819 L 1094.2114028113865 84.71287929531819 L 1094.2114028113865 128.65457617231817 L 972.393253593746 128.65457617231817 L 972.393253593746 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="990.116949174246" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Socket Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1164.3075689733685 84.71287929531819 L 1291.8236246851498 84.71287929531819 L 1291.8236246851498 128.65457617231817 L 1164.3075689733685 128.65457617231817 L 1164.3075689733685 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1182.0312645538684" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Socket Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1424.2354188988893 84.54952726231818 L 1522.4386999524675 84.54952726231818 L 1522.4386999524675 128.65457617231817 L 1424.2354188988893 128.65457617231817 L 1424.2354188988893 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1441.9591144793892" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Database</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1538.7739032524673 84.71287929531819 L 1634.5219078167877 84.71287929531819 L 1634.5219078167877 128.65457617231817 L 1538.7739032524673 128.65457617231817 L 1538.7739032524673 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1556.4975988329672" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Socket.io</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1753.3760848430272 84.71287929531819 L 1853.9988147491445 84.71287929531819 L 1853.9988147491445 128.65457617231817 L 1753.3760848430272 128.65457617231817 L 1753.3760848430272 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1771.0997804235271" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">All Clients</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.476013183593752 136.82217782231817 L 31.811216483593753 136.82217782231817 L 31.811216483593753 1000.9544323923177 L 15.476013183593752 1000.9544323923177 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 254.2335292468099 136.82217782231817 L 270.5687325468099 136.82217782231817 L 270.5687325468099 1000.9544323923177 L 254.2335292468099 1000.9544323923177 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 842.2325724278268 319.7764547823182 L 858.5677757278269 319.7764547823182 L 858.5677757278269 639.946439462318 L 842.2325724278268 639.946439462318 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 508.07336647701817 411.2535932623182 L 524.4085697770182 411.2535932623182 L 524.4085697770182 548.4693009823181 L 508.07336647701817 548.4693009823181 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 667.4113808598931 456.9921625023182 L 683.7465841598932 456.9921625023182 L 683.7465841598932 502.7307317423182 L 667.4113808598931 502.7307317423182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1025.1347265525662 639.946439462318 L 1041.4699298525663 639.946439462318 L 1041.4699298525663 685.685008702318 L 1025.1347265525662 685.685008702318 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1219.897995179259 685.685008702318 L 1236.233198479259 685.685008702318 L 1236.233198479259 822.9007164223178 L 1219.897995179259 822.9007164223178 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1465.1694577756782 731.4235779423179 L 1481.5046610756783 731.4235779423179 L 1481.5046610756783 777.1621471823179 L 1465.1694577756782 777.1621471823179 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1578.4803038846273 822.9007164223178 L 1594.8155071846274 822.9007164223178 L 1594.8155071846274 868.6392856623178 L 1578.4803038846273 868.6392856623178 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1795.5198481460857 868.6392856623178 L 1811.8550514460858 868.6392856623178 L 1811.8550514460858 914.3778549023177 L 1795.5198481460857 914.3778549023177 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="754.9599838256836" y="24.651306798181814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat - Send Message with Files Flow</text></g><g><rect fill="white" stroke="none" x="51.14120705526041" y="161.32498277231818" width="183.76233161988281" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="53.59148755026041" y="176.02666574231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Select files + type message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 31.811216483593753 182.56074706231817 L 240.78421186314324 182.56074706231817" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(254.2335292468099,182.56074706231817) translate(-254.2335292468099,-182.56074706231817)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 240.62085983014322 175.75441235398483 L 254.2335292468099 182.56074706231817 L 240.62085983014322 189.3670817706515 Z"/></g></g><g><rect fill="white" stroke="none" x="51.75322945516275" y="207.06355201231818" width="182.53828682007813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="54.203509950162754" y="221.76523498231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show text and file previews</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 254.2335292468099 228.29931630231818 L 45.26053386726042 228.29931630231818" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(31.811216483593753,228.29931630231818) translate(-31.811216483593753,-228.29931630231818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 45.42388590026042 221.49298159398484 L 31.811216483593753 228.29931630231818 L 45.42388590026042 235.1056510106515 Z"/></g></g><g><rect fill="white" stroke="none" x="106.760370568444" y="252.80212125231822" width="72.52400459351563" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="109.210651063444" y="267.5038042223182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Click send</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 31.811216483593753 274.0378855423182 L 240.78421186314324 274.0378855423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(254.2335292468099,274.0378855423182) translate(-254.2335292468099,-274.0378855423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 240.62085983014322 267.23155083398484 L 254.2335292468099 274.0378855423182 L 240.62085983014322 280.8442202506515 Z"/></g></g><g><rect fill="white" stroke="none" x="447.61541868421284" y="298.54069049231816" width="217.57046760621094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="450.06569917921286" y="313.24237346231814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Call sendMessage(content, files)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 270.5687325468099 319.7764547823182 L 828.7832550441601 319.7764547823182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(842.2325724278268,319.7764547823182) translate(-842.2325724278268,-319.7764547823182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 828.6199030111601 312.97012007398484 L 842.2325724278268 319.7764547823182 L 828.6199030111601 326.5827894906515 Z"/></g></g><g><rect fill="white" stroke="none" x="497.3290493604824" y="344.27925973231817" width="118.14320625367188" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="499.7793298554824" y="358.98094270231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create FormData</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 842.2325724278268 365.5150240223182 L 284.01804993047654 365.5150240223182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(270.5687325468099,365.5150240223182) translate(-270.5687325468099,-365.5150240223182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 284.18140196347656 358.70868931398485 L 270.5687325468099 365.5150240223182 L 284.18140196347656 372.3213587306515 Z"/></g></g><g><rect fill="white" stroke="none" x="289.8987231184765" y="390.01782897231817" width="198.844652786875" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="292.3490036134765" y="404.71951194231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/uploads/cloudinary</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 270.5687325468099 411.2535932623182 L 494.6240490933515 411.2535932623182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(508.07336647701817,411.2535932623182) translate(-508.07336647701817,-411.2535932623182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 494.4606970603515 404.44725855398485 L 508.07336647701817 411.2535932623182 L 494.4606970603515 418.05992797065153 Z"/></g></g><g><rect fill="white" stroke="none" x="555.1597833244323" y="435.7563982123182" width="81.50038398804688" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.6100638194323" y="450.45808118231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upload files</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 524.4085697770182 456.9921625023182 L 653.9620634762265 456.9921625023182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(667.4113808598931,456.9921625023182) translate(-667.4113808598931,-456.9921625023182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 653.7987114432265 450.18582779398486 L 667.4113808598931 456.9921625023182 L 653.7987114432265 463.79849721065153 Z"/></g></g><g><rect fill="white" stroke="none" x="561.2836083976745" y="481.4949674523182" width="69.2527338415625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="563.7338888926745" y="496.19665042231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">File URLs</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 667.4113808598931 502.7307317423182 L 537.8578871606849 502.7307317423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(524.4085697770182,502.7307317423182) translate(-524.4085697770182,-502.7307317423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 538.0212391936849 495.92439703398486 L 524.4085697770182 502.7307317423182 L 538.0212391936849 509.53706645065154 Z"/></g></g><g><rect fill="white" stroke="none" x="305.58946561115226" y="527.2335366923181" width="167.46316780152344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="308.0397461061523" y="541.9352196623181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return URLs + metadata</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 508.07336647701817 548.4693009823181 L 284.01804993047654 548.4693009823181" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(270.5687325468099,548.4693009823181) translate(-270.5687325468099,-548.4693009823181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 284.18140196347656 541.6629662739848 L 270.5687325468099 548.4693009823181 L 284.18140196347656 555.2756356906515 Z"/></g></g><g><rect fill="white" stroke="none" x="506.2732250806972" y="572.9721059323181" width="100.25485481324219" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="508.72350557569723" y="587.673788902318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Files uploaded</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 270.5687325468099 594.2078702223181 L 828.7832550441601 594.2078702223181" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(842.2325724278268,594.2078702223181) translate(-842.2325724278268,-594.2078702223181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 828.6199030111601 587.4015355139848 L 842.2325724278268 594.2078702223181 L 828.6199030111601 601.0142049306514 Z"/></g></g><g><rect fill="white" stroke="none" x="877.8977662994935" y="618.710675172318" width="127.90696968140625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="880.3480467944935" y="633.412358142318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Emit with file URLs</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 858.5677757278269 639.946439462318 L 1011.6854091688996 639.946439462318" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1025.1347265525662,639.946439462318) translate(-1025.1347265525662,-639.946439462318)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1011.5220571358996 633.1401047539847 L 1025.1347265525662 639.946439462318 L 1011.5220571358996 646.7527741706514 Z"/></g></g><g><rect fill="white" stroke="none" x="1060.799920424233" y="664.449244412318" width="139.76808418335938" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1063.250200919233" y="679.150927382318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Message + files data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1041.4699298525663 685.685008702318 L 1206.4486777955922 685.685008702318" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1219.897995179259,685.685008702318) translate(-1219.897995179259,-685.685008702318)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1206.2853257625923 678.8786739939846 L 1219.897995179259 685.685008702318 L 1206.2853257625923 692.4913434106513 Z"/></g></g><g><rect fill="white" stroke="none" x="1255.5631890509255" y="710.1878136523179" width="190.27627815308594" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1258.0134695459255" y="724.8894966223179" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Save message + file records</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1236.233198479259 731.4235779423179 L 1451.7201403920114 731.4235779423179" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1465.1694577756782,731.4235779423179) translate(-1465.1694577756782,-731.4235779423179)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1451.5567883590115 724.6172432339846 L 1465.1694577756782 731.4235779423179 L 1451.5567883590115 738.2299126506513 Z"/></g></g><g><rect fill="white" stroke="none" x="1320.5488457892068" y="755.9263828923179" width="60.30496467652344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1322.9991262842068" y="770.6280658623178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1465.1694577756782 777.1621471823179 L 1249.6825158629258 777.1621471823179" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1236.233198479259,777.1621471823179) translate(-1236.233198479259,-777.1621471823179)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1249.8458678959257 770.3558124739845 L 1236.233198479259 777.1621471823179 L 1249.8458678959257 783.9684818906512 Z"/></g></g><g><rect fill="white" stroke="none" x="1336.0410760946581" y="801.6649521323178" width="142.63135017457031" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1338.4913565896582" y="816.3666351023178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Broadcast to channel</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1236.233198479259 822.9007164223178 L 1565.0309865009606 822.9007164223178" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1578.4803038846273,822.9007164223178) translate(-1578.4803038846273,-822.9007164223178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1564.8676344679607 816.0943817139845 L 1578.4803038846273 822.9007164223178 L 1564.8676344679607 829.7070511306512 Z"/></g></g><g><rect fill="white" stroke="none" x="1614.1454977562942" y="847.4035213723178" width="162.044359818125" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1616.5957782512942" y="862.1052043423177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">'new-message' with files</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1594.8155071846274 868.6392856623178 L 1782.070530762419 868.6392856623178" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1795.5198481460857,868.6392856623178) translate(-1795.5198481460857,-868.6392856623178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1781.907178729419 861.8329509539844 L 1795.5198481460857 868.6392856623178 L 1781.907178729419 875.4456203706511 Z"/></g></g><g><rect fill="white" stroke="none" x="926.0915455570141" y="893.1420906123177" width="213.9054895788672" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="928.5418260520141" y="907.8437735823177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Render message + file previews</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1795.5198481460857 914.3778549023177 L 284.01804993047654 914.3778549023177" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(270.5687325468099,914.3778549023177) translate(-270.5687325468099,-914.3778549023177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 284.18140196347656 907.5715201939844 L 270.5687325468099 914.3778549023177 L 284.18140196347656 921.1841896106511 Z"/></g></g><g><rect fill="white" stroke="none" x="54.61651070516275" y="938.8806598523176" width="176.81172432007813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="57.066791200162754" y="953.5823428223176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Display message with files</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 254.2335292468099 960.1164241423177 L 45.26053386726042 960.1164241423177" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(31.811216483593753,960.1164241423177) translate(-31.811216483593753,-960.1164241423177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 45.42388590026042 953.3100894339843 L 31.811216483593753 960.1164241423177 L 45.42388590026042 966.922758850651 Z"/></g></g></g><g/><g/><g/></g></svg>