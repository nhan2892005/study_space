<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1783.2373175616538" height="1061.3946846023177"><desc>%40startuml%0Atitle%20Refresh%20Token%20Flow%0A%0Aactor%20User%0Aparticipant%20Browser%0Aparticipant%20Middleware%0Aparticipant%20%22Token%20Service%22%20as%20TokenService%0Aparticipant%20%22Auth%20Service%22%20as%20AuthService%0Aparticipant%20%22User%20Service%22%20as%20UserService%0Aparticipant%20%22User%20Repository%22%20as%20UserRepo%0Aparticipant%20Database%0A%0Aactivate%20User%0AUser%20-%3E%20Browser%3A%20Request%20%22%2F%5C*%5C*%22%0Aactivate%20Browser%0A%0ABrowser%20-%3E%20Middleware%3A%20Check%20authentication%0Aactivate%20Middleware%0AMiddleware%20-%3E%20TokenService%3A%20verifyToken(sessionToken)%0Aactivate%20TokenService%0ATokenService%20-%3E%20TokenService%3A%20jwt.verify(token%2C%20secret)%0ATokenService%20-%3E%20Middleware%3A%20Return%20token's%20status%20(expired)%0Adeactivate%20TokenService%0Aalt%20If%20token%20expired%20error%0A%20%20%20%20Middleware%20-%3E%20AuthService%3A%20refreshSession(email)%0A%20%20%20%20activate%20AuthService%0A%20%20%20%20AuthService%20-%3E%20UserService%3A%20getUserByEmail(email)%0A%0A%20%20%20%20activate%20UserService%0A%20%20%20%20UserService%20-%3E%20UserRepo%3A%20findByEmail(email)%0A%20%20%20%20activate%20UserRepo%0A%20%20%20%20UserRepo%20-%3E%20Database%3A%20user.findUnique(%7Bwhere%3A%20%7Bemail%7D%7D)%0A%20%20%20%20activate%20Database%0A%20%20%20%20Database%20-%3E%20UserRepo%3A%20User%20data%0A%20%20%20%20deactivate%20Database%0A%20%20%20%20UserRepo%20-%3E%20UserService%3A%20User%20data%0A%20%20%20%20deactivate%20UserRepo%0A%20%20%20%20UserService%20-%3E%20AuthService%3A%20User%20data%0A%20%20%20%20deactivate%20UserService%0A%20%20%20%20AuthService%20-%3E%20TokenService%3A%20createToken(%7BuserId%2C%20email%2C%20name%7D)%0A%20%20%20%20activate%20TokenService%0A%20%20%20%20TokenService%20-%3E%20AuthService%3A%20JWT%20access%20token%0A%20%20%20%20deactivate%20TokenService%0A%20%20%20%20AuthService%20-%3E%20Middleware%3A%20Set%20new%20session%20cookie%0A%20%20%20%20deactivate%20AuthService%0A%20%20%20%20%0A%20%20%20%20Middleware%20-%3E%20Browser%3A%20Render%20page%0A%20%20%20%20deactivate%20Middleware%0A%20%20%20%20Browser%20-%3E%20User%3A%20Display%20protected%20page%0Aend%20alt%0A%0A%0A%40enduml</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1783" height="1061"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 81.67601649999999 128.65457617231817 L 81.67601649999999 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 291.5215910348958 128.65457617231817 L 291.5215910348958 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 488.332100872526 128.65457617231817 L 488.332100872526 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 747.3973867111328 128.65457617231817 L 747.3973867111328 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1035.4533952059896 128.65457617231817 L 1035.4533952059896 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1245.2416882467448 128.65457617231817 L 1245.2416882467448 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1427.334928186914 128.65457617231817 L 1427.334928186914 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1701.5613010616537 128.65457617231817 L 1701.5613010616537 1061.3946846023177" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 90.987082381 59.55666621331818 A 9.311065881 9.311065881 0 1 1 90.98707772546743 59.54735514898902" stroke-miterlimit="10" stroke-width="2.7769845610000004" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 81.67601649999999 68.86773209431819 L 81.67601649999999 88.79668012031819 M 69.914670124 76.05522154631818 L 93.43736287599998 76.05522154631818 M 81.67601649999999 88.79668012031819 L 69.914670124 107.41881188231818 M 81.67601649999999 88.79668012031819 L 93.43736287599998 107.41881188231818" stroke-miterlimit="10" stroke-width="2.7769845610000004"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.20000331640624" y="123.75401518231817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 246.91530420683716 84.54952726231818 L 336.1278778629544 84.54952726231818 L 336.1278778629544 128.65457617231817 L 246.91530420683716 128.65457617231817 L 246.91530420683716 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="264.6389997873372" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 433.12810438870565 84.54952726231818 L 543.5360973563463 84.54952726231818 L 543.5360973563463 128.65457617231817 L 433.12810438870565 128.65457617231817 L 433.12810438870565 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="450.8517999692057" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Middleware</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 683.6357730398124 84.71287929531819 L 811.1590003824531 84.71287929531819 L 811.1590003824531 128.65457617231817 L 683.6357730398124 128.65457617231817 L 683.6357730398124 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="701.3594686203124" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 976.1728148598646 84.71287929531819 L 1094.7339755521145 84.71287929531819 L 1094.7339755521145 128.65457617231817 L 976.1728148598646 128.65457617231817 L 976.1728148598646 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="993.8965104403646" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Auth Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1185.5638300685887 84.71287929531819 L 1304.9195464249012 84.71287929531819 L 1304.9195464249012 128.65457617231817 L 1185.5638300685887 128.65457617231817 L 1185.5638300685887 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1203.2875256490886" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1357.0629385390314 84.71287929531819 L 1497.606917834797 84.71287929531819 L 1497.606917834797 128.65457617231817 L 1357.0629385390314 128.65457617231817 L 1357.0629385390314 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1374.7866341195313" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User Repository</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1652.4596605348647 84.54952726231818 L 1750.662941588443 84.54952726231818 L 1750.662941588443 128.65457617231817 L 1652.4596605348647 128.65457617231817 L 1652.4596605348647 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1670.1833561153646" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Database</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 73.50841485 136.82217782231817 L 89.84361814999998 136.82217782231817 L 89.84361814999998 1045.0594813023176 L 73.50841485 1045.0594813023176 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 283.3539893848958 182.56074706231817 L 299.6891926848958 182.56074706231817 L 299.6891926848958 1045.0594813023176 L 283.3539893848958 1045.0594813023176 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 480.164499222526 228.29931630231818 L 496.499702522526 228.29931630231818 L 496.499702522526 933.9800988623177 L 480.164499222526 933.9800988623177 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 739.2297850611327 274.0378855423182 L 755.5649883611328 274.0378855423182 L 755.5649883611328 386.7507883123182 L 739.2297850611327 386.7507883123182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1027.2857935559896 476.5944064623182 L 1043.6209968559897 476.5944064623182 L 1043.6209968559897 888.2415296223178 L 1027.2857935559896 888.2415296223178 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1237.0740865967448 522.3329757023182 L 1253.409289896745 522.3329757023182 L 1253.409289896745 751.025821902318 L 1237.0740865967448 751.025821902318 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1419.167326536914 568.0715449423182 L 1435.5025298369142 568.0715449423182 L 1435.5025298369142 705.287252662318 L 1419.167326536914 705.287252662318 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1693.3936994116536 613.8101141823181 L 1709.7289027116537 613.8101141823181 L 1709.7289027116537 659.548683422318 L 1693.3936994116536 659.548683422318 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 739.2297850611327 796.7643911423179 L 755.5649883611328 796.7643911423179 L 755.5649883611328 842.5029603823178 L 739.2297850611327 842.5029603823178 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="797.2544021606445" y="24.651306798181814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Refresh Token Flow</text></g><g><rect fill="white" stroke="none" x="141.86506837742834" y="161.32498277231818" width="89.46747078003906" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="144.31534887242833" y="176.02666574231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Request "/**"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 89.84361814999998 182.56074706231817 L 269.90467200122913 182.56074706231817" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(283.3539893848958,182.56074706231817) translate(-283.3539893848958,-182.56074706231817)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 269.7413199682291 175.75441235398483 L 283.3539893848958 182.56074706231817 L 269.7413199682291 189.3670817706515 Z"/></g></g><g><rect fill="white" stroke="none" x="319.0191832565624" y="207.06355201231818" width="141.81532539429688" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="321.46946375156244" y="221.76523498231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check authentication</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 299.6891926848958 228.29931630231818 L 466.71518183885934 228.29931630231818" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(480.164499222526,228.29931630231818) translate(-480.164499222526,-228.29931630231818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 466.5518298058593 221.49298159398484 L 480.164499222526 228.29931630231818 L 466.5518298058593 235.1056510106515 Z"/></g></g><g><rect fill="white" stroke="none" x="529.0472910556184" y="252.80212125231822" width="177.63490547242188" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="531.4975715506184" y="267.5038042223182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verifyToken(sessionToken)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 496.499702522526 274.0378855423182 L 725.780467677466 274.0378855423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(739.2297850611327,274.0378855423182) translate(-739.2297850611327,-274.0378855423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 725.617115644466 267.23155083398484 L 739.2297850611327 274.0378855423182 L 725.617115644466 280.8442202506515 Z"/></g></g><g><rect fill="white" stroke="none" x="774.8949789327995" y="298.5406904923182" width="155.60913337769531" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="777.3452594277995" y="313.2423734623182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">jwt.verify(token, secret)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 755.5649883611328 319.7764547823182 L 820.9058015611328 319.7764547823182 L 820.9058015611328 341.0122190723182 L 769.0143057447995 341.0122190723182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(755.5649883611328,341.0122190723182) translate(-755.5649883611328,-341.0122190723182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 769.1776577777995 334.20588436398486 L 755.5649883611328 341.0122190723182 L 769.1776577777995 347.81855378065154 Z"/></g></g><g><rect fill="white" stroke="none" x="515.8296930941926" y="365.5150240223182" width="204.07010139527344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="518.2799735891927" y="380.21670699231817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return token's status (expired)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 739.2297850611327 386.7507883123182 L 509.94901990619263 386.7507883123182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(496.499702522526,386.7507883123182) translate(-496.499702522526,-386.7507883123182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 510.11237193919266 379.94445360398487 L 496.499702522526 386.7507883123182 L 510.11237193919266 393.55712302065155 Z"/></g></g><g><rect fill="white" stroke="none" x="688.154038284004" y="455.3586421723182" width="147.47741951050781" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="690.604318779004" y="470.06032514231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">refreshSession(email)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 496.499702522526 476.5944064623182 L 1013.8364761723229 476.5944064623182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1027.2857935559896,476.5944064623182) translate(-1027.2857935559896,-476.5944064623182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1013.6731241393229 469.78807175398487 L 1027.2857935559896 476.5944064623182 L 1013.6731241393229 483.40074117065154 Z"/></g></g><g><rect fill="white" stroke="none" x="1062.9509874276562" y="501.0972114123182" width="154.79310859742188" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1065.4012679226562" y="515.7988943823182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">getUserByEmail(email)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1043.6209968559897 522.3329757023182 L 1223.624769213078 522.3329757023182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1237.0740865967448,522.3329757023182) translate(-1237.0740865967448,-522.3329757023182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1223.4614171800781 515.5266409939849 L 1237.0740865967448 522.3329757023182 L 1223.4614171800781 529.1393104106515 Z"/></g></g><g><rect fill="white" stroke="none" x="1272.7392804684116" y="546.8357806523181" width="127.09805549683594" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1275.1895609634116" y="561.5374636223181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">findByEmail(email)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1253.409289896745 568.0715449423182 L 1405.7180091532473 568.0715449423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1419.167326536914,568.0715449423182) translate(-1419.167326536914,-568.0715449423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1405.5546571202474 561.2652102339848 L 1419.167326536914 568.0715449423182 L 1405.5546571202474 574.8778796506515 Z"/></g></g><g><rect fill="white" stroke="none" x="1454.8325204085806" y="592.5743498923181" width="219.23118843140625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1457.2828009035807" y="607.2760328623181" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">user.findUnique({where: {email}})</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1435.5025298369142 613.8101141823181 L 1679.9443820279869 613.8101141823181" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1693.3936994116536,613.8101141823181) translate(-1693.3936994116536,-613.8101141823181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1679.781029994987 607.0037794739848 L 1693.3936994116536 613.8101141823181 L 1679.781029994987 620.6164488906514 Z"/></g></g><g><rect fill="white" stroke="none" x="1530.2190331649283" y="638.312919132318" width="68.45816291871094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1532.6693136599283" y="653.014602102318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1693.3936994116536 659.548683422318 L 1448.951847220581 659.548683422318" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1435.5025298369142,659.548683422318) translate(-1435.5025298369142,-659.548683422318)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1449.1151992535808 652.7423487139847 L 1435.5025298369142 659.548683422318 L 1449.1151992535808 666.3550181306514 Z"/></g></g><g><rect fill="white" stroke="none" x="1302.059226757474" y="684.051488372318" width="68.45816291871094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1304.5095072524741" y="698.753171342318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1419.167326536914 705.287252662318 L 1266.8586072804117 705.287252662318" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1253.409289896745,705.287252662318) translate(-1253.409289896745,-705.287252662318)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1267.0219593134116 698.4809179539847 L 1253.409289896745 705.287252662318 L 1267.0219593134116 712.0935873706513 Z"/></g></g><g><rect fill="white" stroke="none" x="1106.1184602670116" y="729.7900576123179" width="68.45816291871094" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1108.5687407620117" y="744.4917405823179" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1237.0740865967448 751.025821902318 L 1057.0703142396565 751.025821902318" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1043.6209968559897,751.025821902318) translate(-1043.6209968559897,-751.025821902318)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1057.2336662726564 744.2194871939846 L 1043.6209968559897 751.025821902318 L 1057.2336662726564 757.8321566106513 Z"/></g></g><g><rect fill="white" stroke="none" x="774.8949789327994" y="775.5286268523179" width="233.06082405152344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="777.3452594277994" y="790.2303098223178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">createToken({userId, email, name})</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1027.2857935559896 796.7643911423179 L 769.0143057447995 796.7643911423179" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(755.5649883611328,796.7643911423179) translate(-755.5649883611328,-796.7643911423179)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 769.1776577777995 789.9580564339846 L 755.5649883611328 796.7643911423179 L 769.1776577777995 803.5707258506512 Z"/></g></g><g><rect fill="white" stroke="none" x="829.0968221945182" y="821.2671960923178" width="124.65713752808594" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="831.5471026895182" y="835.9688790623178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">JWT access token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 755.5649883611328 842.5029603823178 L 1013.8364761723229 842.5029603823178" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(1027.2857935559896,842.5029603823178) translate(-1027.2857935559896,-842.5029603823178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1013.6731241393229 835.6966256739845 L 1027.2857935559896 842.5029603823178 L 1013.6731241393229 849.3092950906512 Z"/></g></g><g><rect fill="white" stroke="none" x="682.842644546211" y="867.0057653323178" width="158.10020698609375" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="685.292925041211" y="881.7074483023177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Set new session cookie</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1027.2857935559896 888.2415296223178 L 509.94901990619263 888.2415296223178" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(496.499702522526,888.2415296223178) translate(-496.499702522526,-888.2415296223178)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 510.11237193919266 881.4351949139844 L 496.499702522526 888.2415296223178 L 510.11237193919266 895.0478643306511 Z"/></g></g><g><rect fill="white" stroke="none" x="345.09289846652337" y="912.7443345723177" width="89.667894974375" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.5431789615234" y="927.4460175423177" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Render page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 480.164499222526 933.9800988623177 L 313.1385100685624 933.9800988623177" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(299.6891926848958,933.9800988623177) translate(-299.6891926848958,-933.9800988623177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 313.30186210156245 927.1737641539844 L 299.6891926848958 933.9800988623177 L 313.30186210156245 940.7864335706511 Z"/></g></g><g><rect fill="white" stroke="none" x="109.17360872166661" y="958.4829038123177" width="154.8503900915625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="111.62388921666661" y="973.1845867823176" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Display protected page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 283.3539893848958 979.7186681023177 L 103.29293553366665 979.7186681023177" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(89.84361814999998,979.7186681023177) translate(-89.84361814999998,-979.7186681023177)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 103.45628756666665 972.9123333939843 L 89.84361814999998 979.7186681023177 L 103.45628756666665 986.525002810651 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 16.33520329999999 411.2535932623182 L 1758.7345126116538 411.2535932623182 L 1758.7345126116538 1004.2214730523177 L 16.33520329999999 1004.2214730523177 L 16.33520329999999 411.2535932623182 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 16.33520329999999 411.2535932623182 L 16.33520329999999 430.8558372223182 L 62.6944068970703 430.8558372223182 L 72.4955288770703 421.0547152423182 L 72.4955288770703 411.2535932623182 L 16.33520329999999 411.2535932623182" stroke-miterlimit="10" stroke-width="2.3336004714285714"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="32.67040659999999" y="424.3217559023182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="86.3804516820703" y="412.5604095263182" width="130.04710640015625" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="88.8307321770703" y="424.3217559023182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[If token expired error]</text></g></g><g/><g/><g/><g/></g></svg>