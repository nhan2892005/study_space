<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="930.8648426175741" height="559.9039432923182"><desc>%40startuml%0Atitle%20Logout%20Flow%0A%0Aactor%20User%0Aparticipant%20Browser%0Aparticipant%20%22Auth%20Controller%22%20as%20AuthController%0Aparticipant%20%22Auth%20Service%22%20as%20AuthService%0A%0A%0Aactivate%20User%0Aactivate%20Browser%0AUser%20-%3E%20Browser%3A%20Click%20%22Sign%20out%22%0ABrowser%20-%3E%20AuthController%3A%20POST%20%2Fapi%2Fauth%2Fsignout%0Aactivate%20AuthController%0AAuthController%20-%3E%20AuthService%3A%20signOut()%0A%0Aactivate%20AuthService%0AAuthService%20-%3E%20TokenService%3A%20handleSignOut(sessionId)%0Aactivate%20TokenService%0ATokenService%20-%3E%20AuthService%3A%20invalidateToken(token)%0Adeactivate%20TokenService%0AAuthService%20-%3E%20AuthController%3A%20Success%0Adeactivate%20AuthService%0AAuthController%20-%3E%20Browser%3A%20Clear%20session%20cookie%20%2B%20redirect%20%2F%0Adeactivate%20AuthController%0ABrowser%20-%3E%20User%3A%20Render%20redirect%20page%0A%0A%40enduml</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="930" height="559"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 23.64361483359375 128.65457617231817 L 23.64361483359375 559.9039432923182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 221.26299307942705 128.65457617231817 L 221.26299307942705 559.9039432923182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 490.1564802119791 128.65457617231817 L 490.1564802119791 559.9039432923182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 632.3864165919244 128.65457617231817 L 632.3864165919244 559.9039432923182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 860.9721339490859 128.65457617231817 L 860.9721339490859 559.9039432923182" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 32.95468071459375 59.55666621331818 A 9.311065881 9.311065881 0 1 1 32.9546760590612 59.54735514898902" stroke-miterlimit="10" stroke-width="2.7769845610000004" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 23.64361483359375 68.86773209431819 L 23.64361483359375 88.79668012031819 M 11.882268457593753 76.05522154631818 L 35.40496120959375 76.05522154631818 M 23.64361483359375 88.79668012031819 L 11.882268457593753 107.41881188231818 M 23.64361483359375 88.79668012031819 L 35.40496120959375 107.41881188231818" stroke-miterlimit="10" stroke-width="2.7769845610000004"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="8.167601650000002" y="123.75401518231817" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 176.65670625136846 84.54952726231818 L 265.86927990748563 84.54952726231818 L 265.86927990748563 128.65457617231817 L 176.65670625136846 128.65457617231817 L 176.65670625136846 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.38040183186845" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Browser</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 423.54232747815877 84.71287929531819 L 556.7706329457994 84.71287929531819 L 556.7706329457994 128.65457617231817 L 423.54232747815877 128.65457617231817 L 423.54232747815877 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="441.2660230586588" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Auth Controller</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 573.1058362457994 84.71287929531819 L 691.6669969380495 84.71287929531819 L 691.6669969380495 128.65457617231817 L 573.1058362457994 128.65457617231817 L 573.1058362457994 84.71287929531819 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="590.8295318262994" y="112.3193728723182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Auth Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 799.2470269305976 84.54952726231818 L 922.6972409675742 84.54952726231818 L 922.6972409675742 128.65457617231817 L 799.2470269305976 128.65457617231817 L 799.2470269305976 84.54952726231818 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="816.9707225110976" y="112.31937287231818" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">TokenService</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 15.476013183593752 136.82217782231817 L 31.811216483593753 136.82217782231817 L 31.811216483593753 543.5687399923182 L 15.476013183593752 543.5687399923182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 213.09539142942705 136.82217782231817 L 229.43059472942704 136.82217782231817 L 229.43059472942704 543.5687399923182 L 213.09539142942705 543.5687399923182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 481.9888785619791 228.29931630231818 L 498.3240818619791 228.29931630231818 L 498.3240818619791 456.9921625023182 L 481.9888785619791 456.9921625023182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 624.2188149419244 274.0378855423182 L 640.5540182419245 274.0378855423182 L 640.5540182419245 411.2535932623182 L 624.2188149419244 411.2535932623182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 852.8045322990858 319.7764547823182 L 869.139735599086 319.7764547823182 L 869.139735599086 365.5150240223182 L 852.8045322990858 365.5150240223182 Z" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="406.89976501464844" y="24.651306798181814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Logout Flow</text></g><g><rect fill="white" stroke="none" x="69.98514779012368" y="161.32498277231818" width="104.93631233277344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="72.43542828512368" y="176.02666574231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Click "Sign out"</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 31.811216483593753 182.56074706231817 L 199.64607404576037 182.56074706231817" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(213.09539142942705,182.56074706231817) translate(-213.09539142942705,-182.56074706231817)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 199.48272201276038 175.75441235398483 L 213.09539142942705 182.56074706231817 L 199.48272201276038 189.3670817706515 Z"/></g></g><g><rect fill="white" stroke="none" x="277.4720721174999" y="207.06355201231818" width="156.47532905640625" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="279.92235261249994" y="221.76523498231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/auth/signout</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 229.43059472942704 228.29931630231818 L 468.53956117831245 228.29931630231818" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(481.9888785619791,228.29931630231818) translate(-481.9888785619791,-228.29931630231818)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 468.37620914531243 221.49298159398484 L 481.9888785619791 228.29931630231818 L 468.37620914531243 235.1056510106515 Z"/></g></g><g><rect fill="white" stroke="none" x="528.6780175773619" y="252.80212125231822" width="65.18686164917969" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="531.1282980723619" y="267.5038042223182" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">signOut()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 498.3240818619791 274.0378855423182 L 610.7694975582577 274.0378855423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(624.2188149419244,274.0378855423182) translate(-624.2188149419244,-274.0378855423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 610.6061455252577 267.23155083398484 L 624.2188149419244 274.0378855423182 L 610.6061455252577 280.8442202506515 Z"/></g></g><g><rect fill="white" stroke="none" x="659.8840088135911" y="298.54069049231816" width="173.59053291382813" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="662.3342893085911" y="313.24237346231814" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleSignOut(sessionId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 640.5540182419245 319.7764547823182 L 839.3552149154192 319.7764547823182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(852.8045322990858,319.7764547823182) translate(-852.8045322990858,-319.7764547823182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 839.1918628824192 312.97012007398484 L 852.8045322990858 319.7764547823182 L 839.1918628824192 326.5827894906515 Z"/></g></g><g><rect fill="white" stroke="none" x="670.8861526734544" y="344.27925973231817" width="151.58624519410156" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="673.3364331684544" y="358.98094270231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">invalidateToken(token)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 852.8045322990858 365.5150240223182 L 654.0033356255911 365.5150240223182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(640.5540182419245,365.5150240223182) translate(-640.5540182419245,-365.5150240223182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 654.1666876585912 358.70868931398485 L 640.5540182419245 365.5150240223182 L 654.1666876585912 372.3213587306515 Z"/></g></g><g><rect fill="white" stroke="none" x="531.11896606369" y="390.01782897231817" width="60.30496467652344" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="533.56924655869" y="404.71951194231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 624.2188149419244 411.2535932623182 L 511.77339924564575 411.2535932623182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(498.3240818619791,411.2535932623182) translate(-498.3240818619791,-411.2535932623182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 511.9367512786458 404.44725855398485 L 498.3240818619791 411.2535932623182 L 511.9367512786458 418.05992797065153 Z"/></g></g><g><rect fill="white" stroke="none" x="248.7605853010937" y="435.7563982123182" width="213.89830268921875" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="251.21086579609369" y="450.45808118231815" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Clear session cookie + redirect /</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 481.9888785619791 456.9921625023182 L 242.87991211309372 456.9921625023182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(229.43059472942704,456.9921625023182) translate(-229.43059472942704,-456.9921625023182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 243.04326414609372 450.18582779398486 L 229.43059472942704 456.9921625023182 L 243.04326414609372 463.79849721065153 Z"/></g></g><g><rect fill="white" stroke="none" x="51.141207055260395" y="481.4949674523182" width="142.6241938025" height="21.23576429"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="53.591487550260396" y="496.19665042231816" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Render redirect page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 213.09539142942705 502.7307317423182 L 45.26053386726042 502.7307317423182" stroke-miterlimit="10" stroke-width="1.3612669416666667"/><g transform="translate(31.811216483593753,502.7307317423182) translate(-31.811216483593753,-502.7307317423182)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 45.42388590026042 495.92439703398486 L 31.811216483593753 502.7307317423182 L 45.42388590026042 509.53706645065154 Z"/></g></g></g><g/><g/><g/></g></svg>